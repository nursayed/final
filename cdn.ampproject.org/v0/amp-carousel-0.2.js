(self.AMP=self.AMP||[]).push({n:"amp-carousel",v:"2011252111002",f:(function(AMP,_){
'use strict';var h,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}ba(this);"function"===typeof Symbol&&Symbol("x");var p;
if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var ca={a:!0},da={};try{da.__proto__=ca;q=da.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ea=p,r;function t(){return r?r:r=Promise.resolve(void 0)};var u=self.AMP_CONFIG||{},fa=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ha(a){if(self.document&&self.document.head&&(!self.location||!fa.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}u.cdnUrl||ha("runtime-host");u.geoApiUrl||ha("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var ia=self.__AMP_LOG;function v(a,b){return 0<a&&0<b?a%b:(a%b+b)%b};function w(a){return a||{}};var x,ja="Webkit webkit Moz moz ms O o".split(" ");function y(a,b,c){if(b.startsWith("--"))return b;x||(x=Object.create(null));var d=x[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<ja.length;f++){var g=ja[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(x[b]=d)}return d}function ka(a,b){a=a.style;for(var c in b)a.setProperty(y(a,c),b[c].toString(),"important")}
function z(a,b,c){(b=y(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)};function A(a,b){var c=b.getBoundingClientRect();b=c.top;var d=c.bottom,e=c.height,f=c.left,g=c.right;c=c.width;return{start:0==a?f:b,end:0==a?g:d,length:0==a?c:e}}function B(a,b){a=A(a,b);return(a.start+a.end)/2}function C(a,b,c){return"start"==b?A(a,c).start:B(a,c)}function D(a,b,c){0==a?z(b,"width",c+"px"):z(b,"height",c+"px")}function E(a,b,c){a=A(a,b);b=a.end;return a.start<=c&&c<b}function la(a,b,c,d){var e=C(a,b,d),f=C(a,b,c),g=A(a,d).length;return(e-f)/g}
function ma(a,b,c,d,e){var f=C(a,b,c);if(E(a,d[e],f))return e;for(b=1;b<=d.length/2;b++){var g=v(e+b,d.length),k=v(e-b,d.length);if(E(a,d[g],f))return g;if(E(a,d[k],f))return k}};function na(a,b,c){function d(){e=0;var k=c-(a.Date.now()-f);if(0<k)e=a.setTimeout(d,k);else{var l=g;g=null;b.apply(null,l)}}var e=0,f=0,g=null;return function(k){for(var l=[],m=0;m<arguments.length;++m)l[m-0]=arguments[m];f=a.Date.now();g=l;e||(e=a.setTimeout(d,c))}};var F;function oa(a,b,c,d){var e=a,f=c;var g=function(m){try{return f(m)}catch(n){throw self.__AMP_REPORT_ERROR(n),n;}};var k=pa(),l=!1;d&&(l=d.capture);e.addEventListener(b,g,k?d:l);return function(){e&&e.removeEventListener(b,g,k?d:l);g=e=f=null}}function pa(){if(void 0!==F)return F;F=!1;try{var a={get capture(){F=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return F};function qa(){var a,b;this.promise=new Promise(function(c,d){a=c;b=d});this.resolve=a;this.reject=b};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ra(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function ta(a){return a.closest?a.closest("[i-amphtml-scale-animation]"):ra(a,function(b){var c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c?c.call(b,"[i-amphtml-scale-animation]"):!1})}function va(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)};function G(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function H(a,b,c,d){oa(a,b,c,d)}function wa(a){var b=a,c=oa(window,"touchend",function(d){try{b(d)}finally{b=null,c()}},{capture:!0,passive:!0})};function xa(a){var b=this,c=a.element,d=a.scrollContainer,e=a.advanceable;this.N=a.win;this.h=d;this.La=e;this.fa=0;this.B=!1;this.ga=1;this.ha=1E3;this.Ja=this.ta=!1;this.ka=null;this.Fa=Number.POSITIVE_INFINITY;this.Ma=c.getAmpDoc();ya(this,this.ha);this.h.addEventListener("scroll",function(){return b.ma()},!0);H(this.h,"touchstart",function(){return b.na()},{capture:!0,passive:!0});H(c,"amp-carousel:indexchange",function(f){(f=f.detail.actionSource)&&4!==f&&b.stop()})}h=xa.prototype;
h.stop=function(){this.Ja=!0};h.pause=function(){this.ta=!0};h.resume=function(){this.ta=!1;I(this)};h.updateAutoAdvance=function(a){this.B=a;I(this)};h.updateAutoAdvanceCount=function(a){this.ga=a;I(this)};h.updateAutoAdvanceInterval=function(a){this.ha=Math.max(a,1E3);ya(this,this.ha);I(this)};h.updateMaxAdvances=function(a){this.Fa=a};function ya(a,b){var c=na(a.N,function(){c==a.ka&&za(a)&&(a.La.advance(a.ga,{actionSource:4,allowWrap:!0}),a.fa+=a.ga)},b);a.ka=c}
h.na=function(){var a=this;this.pause();wa(function(){a.resume()})};function za(a){return a.B&&a.Ma.isVisible()&&!a.ta&&!a.Ja&&a.fa<a.Fa}h.ma=function(){I(this)};function I(a){za(a)&&a.ka()};function Aa(a){var b=this,c=a.element,d=a.scrollContainer,e=a.runMutate,f=a.stoppable;this.N=a.win;this.h=d;this.L=e;this.j=[];this.A=1;this.M=this.R=!1;this.Ca=0;c.addEventListener("focus",function(){f.stop()},!0);c.addEventListener("amp-carousel:indexchange",function(g){b.ra(g)})}h=Aa.prototype;h.updateMixedLength=function(a){this.R=a};h.updateUi=function(){var a=this;this.M||(this.M=!0,this.L(function(){a.M=!1;Ba(a);Ca(a)}))};h.updateSlides=function(a){this.j=a;this.updateUi()};
h.updateVisibleCount=function(a){this.A=a;this.updateUi()};function Ba(a){a.R||2<=a.A?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach(function(b){b.setAttribute("role","listitem")})):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach(function(b){b.removeAttribute("role")}))}function Ca(a){a.j.forEach(function(b,c){b.setAttribute("aria-hidden",!(a.R||2<=a.A)&&c!==a.Ca)})}h.ra=function(a){var b=this;this.Ca=a.detail.index;this.L(function(){Ca(b)})};function Da(a,b){var c=(c=y(a.style,"scrollBehavior",void 0))?c.startsWith("--")?a.style.getPropertyValue(c):a.style[c]:void 0;z(a,"scrollBehavior","auto");b();z(a,"scrollBehavior",c)}function J(a){return a.reduce(function(b,c){return b+c},0)}
function Ea(a){var b=this,c=a.win,d=a.element,e=a.scrollContainer;a=a.runMutate;this.N=c;this.L=a;this.X=d;this.h=e;this.B=new xa({win:c,element:d,scrollContainer:e,advanceable:this});this.ja=new Aa({win:c,element:d,scrollContainer:e,runMutate:a,stoppable:this.B});this.Aa=na(c,function(){return K(b)},200);this.ea=1;this.za=Number.POSITIVE_INFINITY;this.R=!1;this.j=[];this.Ka=!0;this.M=!1;this.T=[];this.aa=[];this.S=[];this.ya=[];this.P=this.qa=!1;this.W=0;this.C=null;this.ba=NaN;this.ua=this.ca=!1;
this.J=void 0;this.D="start";this.F=0;this.Ba=this.K=!0;this.o=0;this.Ea=!1;this.Ia=!0;this.A=this.Ha=1;this.h.addEventListener("scroll",function(){return b.ma()},!0);this.h.addEventListener("scrollend",function(){null===b.C&&K(b)},!0);H(this.h,"touchstart",function(){return b.na()},{capture:!0,passive:!0});H(this.h,"wheel",function(){b.J=2;b.C=null;b.P=!1},{capture:!0,passive:!0})}h=Ea.prototype;h.next=function(a){this.advance(this.ea,{actionSource:a})};h.prev=function(a){this.advance(-this.ea,{actionSource:a})};
h.advance=function(a,b){b=void 0===b?{}:b;var c=this.o,d=this.C,e=b;b=e.actionSource;var f=void 0===e.allowWrap?!1:e.allowWrap;c=null!==d?d:c;var g=c+a,k=this.j.length-1,l=0===c,m=c===k,n=0>g,sa=g>k,ua=0<a&&Fa(this,c)&&Fa(this,g);a=this.isLooping()?v(g,k+1):f?ua?0:n&&l||sa&&!m?k:n&&!l||sa&&m?0:g:ua?c:Math.min(Math.max(g,0),k);this.goToSlide(a,{actionSource:b})};h.pauseLayout=function(){this.qa=!0;this.B.pause()};h.resumeLayout=function(){this.qa=!1;this.updateUi();this.B.resume()};
h.getCurrentIndex=function(){return this.o};h.getVisibleCount=function(){return this.A};h.isLooping=function(){return this.Ea&&3<=this.j.length/this.A};h.goToSlide=function(a,b){b=void 0===b?{}:b;var c=void 0===b.smoothScroll?!0:b.smoothScroll;b=b.actionSource;0>a||a>this.j.length-1||isNaN(a)||a===this.o||this.ca||this.ua&&(3===this.J||2===this.J)||(this.P=!1,this.C=a,this.J=b,Ga(this,this.j[a],{smoothScroll:c}))};h.updateAdvanceCount=function(a){this.ea=a};
h.updateAlignment=function(a){this.D="start"===a?"start":"center";this.updateUi()};h.updateAutoAdvance=function(a){this.B.updateAutoAdvance(a)};h.updateAutoAdvanceCount=function(a){this.B.updateAutoAdvanceCount(a)};h.updateAutoAdvanceInterval=function(a){this.B.updateAutoAdvanceInterval(a)};h.updateAutoAdvanceLoops=function(a){this.za=a;this.updateUi()};h.updateForwards=function(a){this.K=a;this.updateUi()};h.updateHideScrollbar=function(a){this.Ba=a;this.updateUi()};
h.updateHorizontal=function(a){this.F=a?0:1;this.updateUi()};h.updateLoop=function(a){this.Ea=a;this.updateUi()};h.updateMixedLength=function(a){this.R=a;this.ja.updateMixedLength(a);this.updateUi()};h.updateSlides=function(a){this.j=a;this.ja.updateSlides(a)};h.updateSnap=function(a){this.Ia=a;this.updateUi()};h.updateSnapBy=function(a){this.Ha=Math.max(1,a);this.updateUi()};h.updateUserScrollable=function(a){this.Ka=a;this.updateUi()};
h.updateUi=function(){var a=this;this.M||this.qa||(this.M=!0,this.L(function(){a.M=!1;a.h.setAttribute("mixed-length",a.R);a.h.setAttribute("user-scrollable",a.Ka);a.h.setAttribute("hide-scrollbar",a.Ba);a.h.setAttribute("horizontal",0===a.F);a.h.setAttribute("loop",a.isLooping());a.h.setAttribute("snap",a.Ia);ka(a.h,{"--visible-count":a.A});a.j.length&&(a.B.updateMaxAdvances(a.za*a.j.length-1),Ha(a),Ia(a),Ja(a),K(a,!0))}))};
h.updateVisibleCount=function(a){this.A=Math.max(1,a);this.ja.updateVisibleCount(a);this.updateUi()};function Ka(a,b,c){a.o=b;a.W=c;a.X.dispatchEvent(G(a.N,"amp-carousel:offsetchange",w({index:b,total:a.j.length,offset:a.K?-c:c,slides:a.j}),{bubbles:!0}))}h.notifyScrollStart=function(){this.X.dispatchEvent(G(this.N,"amp-carousel:scrollstart",null))};h.na=function(){var a=this;this.ca=!0;this.J=3;this.C=null;this.P=!1;wa(function(){a.ca=!1;a.Aa()})};
h.ma=function(){this.P?this.P=!1:(this.ua=!0,La(this),this.notifyScrollStart(),this.Aa())};function L(a,b,c,d){var e=a.F,f=c*d*(a.K?1:-1);a=0==e?f:0;e=0==e?0:f;z(b,"transform","translate("+a+"px, "+e+"px)");ka(b,{"--content-transform":"translate("+a+"px, "+e+"px)"});b._revolutions=c}function Ma(a,b){a.j.forEach(function(c){L(a,c,0,b)})}function M(a){return a.j.map(function(b){return A(a.F,b).length})}
h.isAtEnd=function(){if(this.isLooping())var a=!1;else{a=this.h;var b=a.getBoundingClientRect().width*(this.K?1:-1);b=a.scrollLeft+(this.K?Math.ceil(b):Math.floor(b));a=a.scrollWidth;a=this.K?b>=a:b<=-a}return a};h.isAtStart=function(){if(this.isLooping())var a=!1;else a=this.h.scrollLeft,a=this.K?0>=a:0<=a;return a};function N(a){for(var b=[],c=0;c<a;c++){var d=document.createElement("div");d.className="i-amphtml-carousel-spacer";b.push(d)}return b}
function Ha(a){var b=a.F,c=a.j,d=M(a),e=J(d),f=a.isLooping()?c.length:0;a.T.forEach(function(g){a.h.removeChild(g)});a.T=N(f);a.T.forEach(function(g,k){D(b,g,d[k]);a.h.insertBefore(g,c[0])});a.aa.forEach(function(g){a.h.removeChild(g)});a.aa=N(f);a.aa.forEach(function(g,k){D(b,g,d[k]);L(a,g,-1,e);a.h.appendChild(g)});a.S.forEach(function(g){a.h.removeChild(g)});a.S=N(f);a.S.forEach(function(g,k){D(b,g,d[k]);L(a,g,-1,e);a.h.appendChild(g)});a.ya=a.T.concat(a.aa,a.S)}
function Ia(a){var b=a.j.length,c="start"===a.D,d=1===v(a.A,2),e=c||d?"0%":"50%";va(a.h.children,function(f,g){g=v(g,b);var k=0===v(g,a.Ha);f=f.children.length?f.children[0]:f;g={"scroll-snap-align":k?a.D:"none","scroll-snap-coordinate":k?e:"none"};for(var l in g)z(f,l,g[l])})}
function Ja(a){var b=a.S,c=a.T,d=a.o,e=a.j,f=Math.max(0,e.length-d-1),g=Math.max(0,d-1);c.forEach(function(k,l){var m=c.length;m=d===l?m:v(d-l,m);k.hidden=m>e.length-1||l<e.length-f});b.forEach(function(k,l){var m=b.length;m=d===l?m:v(l-d,m);k.hidden=m>e.length-1||l>g})}function La(a){var b=a.ya,c=a.D,d=a.F,e=a.o,f=a.h,g=a.j,k=J(M(a)),l=!!b.length,m=l?b:g,n=ma(d,c,f,m,l?e+g.length:e);void 0!==n&&(b=n%g.length,c=la(d,c,f,m[n]),Ka(a,b,c),b!==e&&a.L(function(){Na(a,k)}))}
function K(a,b){var c=void 0===b?!1:b,d=a.J;if(!a.ca&&(a.J=void 0,a.ua=!1,a.L(function(){a.X.dispatchEvent(G(a.N,"amp-carousel:scrollpositionchange",null))}),a.ba!==a.o||null!==a.C||c)){null!==a.C&&(a.o=a.C,a.C=null,a.W=0);var e=J(M(a));a.L(function(){var f=a.o;a.ba!==f&&(a.ba=f,a.X.dispatchEvent(G(a.N,"amp-carousel:indexchange",w({index:f,total:a.j.length,actionSource:d,slides:a.j}),{bubbles:!0})));Ka(a,a.o,a.W);Ma(a,e);Ja(a);Na(a,e);Oa(a)})}}
function Oa(a){var b=a.F,c=a.W,d=a.h,e=a.j[a.o],f=la(b,a.D,d,e)-c;c=A(b,e).length;var g=f*c;g&&(a.P=!0,Da(d,function(){var k=(0==b?d.scrollLeft:d.scrollTop)+g;0==b?d.scrollLeft=k:d.scrollTop=k}))}function Ga(a,b,c){(c.smoothScroll?function(d,e){return e()}:Da)(a.h,function(){var d=a.F,e=a.h,f="start"==a.D,g=A(d,b).length,k=f?A(d,b).start:B(d,b);f=f?A(d,e).start:B(d,e);g=(0==d?e.scrollLeft:e.scrollTop)+(k-f-0*g);0==d?e.scrollLeft=g:e.scrollTop=g})}
function Pa(a,b,c,d){for(var e=a.o,f=a.ba,g=a.j,k=g[e]._revolutions||0,l=d?1:-1,m=1;m<=c;m++){var n=v(e+m*l,g.length);if(n===f&&e!==f)break;L(a,g[n],n>e!==d?k+l:k,b)}}function Na(a,b){if(a.isLooping()){var c=a.j,d=a.A,e="start"===a.D?d-1:0,f=(c.length-1+e)/2;Pa(a,b,Math.round((c.length-1-e)/2),!1);Pa(a,b,Math.round(f),!0)}}function Fa(a,b){var c=a.A;return b>=a.j.length-("start"===a.D?c:c/2)};function O(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return P(a,b)}function Qa(a){var b=Q(a);b=R(b);return P(b,"owners")}function Ra(a){a=Q(a);a=R(a);return Sa(a,"action")?P(a,"action"):null}function Q(a){return a.nodeType?O((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function R(a){a=Q(a);return a.isSingleDoc()?a.win:a}function P(a,b){Sa(a,b);a=S(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function Ta(a){var b=S(a)["amp-analytics-instrumentation"];if(b){if(b.promise)return b.promise;P(a,"amp-analytics-instrumentation");return b.promise=Promise.resolve(b.obj)}return null}function S(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Sa(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)}function Ua(){var a=new qa,b=a.promise,c=a.resolve;a=a.reject;b.catch(function(){});return{obj:null,promise:b,resolve:c,reject:a,context:null,ctor:null}};function Va(a){var b=Ta(R(a));if(b)return b;var c=Q(a);return c.waitForBodyOpen().then(function(){var d=c.win;var e=c.win.document.head;if(e){var f={};e=e.querySelectorAll("script[custom-element],script[custom-template]");for(var g=0;g<e.length;g++){var k=e[g];k=k.getAttribute("custom-element")||k.getAttribute("custom-template");f[k]=!0}f=Object.keys(f)}else f=[];return f.includes("amp-analytics")?O(d,"extensions").waitForExtension(d,"amp-analytics"):t()}).then(function(){var d=c.win;if(d.__AMP_EXTENDED_ELEMENTS&&
d.__AMP_EXTENDED_ELEMENTS["amp-analytics"]){d=R(a);var e=Ta(d);e?d=e:(d=S(d),d["amp-analytics-instrumentation"]=Ua(),d=d["amp-analytics-instrumentation"].promise)}else d=null;return d})};function Wa(a){var b=a.ampElement,c=a.intersectionElement,d=void 0===a.intersectionThreshold?.01:a.intersectionThreshold,e=void 0===a.nearbyMarginInPercent?100:a.nearbyMarginInPercent,f=void 0===a.viewportIntersectionThreshold?d:a.viewportIntersectionThreshold,g=void 0===a.viewportIntersectionCallback?function(){}:a.viewportIntersectionCallback;this.O=b;this.sa=Qa(b.element);this.oa=c;this.Da=d;this.Ga=e;this.Na=f;this.wa=g;this.$=!1;this.m=[];this.Y=this.V=this.Z=null;this.U=!1}h=Wa.prototype;
h.setQueueChanges=function(a){this.$=a};function T(a,b,c){c?a.sa.scheduleLayout(a.O.element,b):a.sa.scheduleUnlayout(a.O.element,b)}
function Xa(a){if(!(a.Z&&a.V&&a.Y)){var b=a.O.win;a.Z=new b.IntersectionObserver(function(c){return Ya(a,c)},{root:a.oa,rootMargin:a.Ga+"%",threshold:a.Da});a.V=new b.IntersectionObserver(function(c){return Za(a,c)},{root:a.oa,rootMargin:a.Ga+10+"%",threshold:a.Da});a.Y=new b.IntersectionObserver(function(c){return $a(a,c)},{root:a.oa,rootMargin:"0%",threshold:a.Na})}}
function Ya(a,b){b.filter(function(c){return c.isIntersecting}).forEach(function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0});a.$||ab(a)}function Za(a,b){b.filter(function(c){return!c.isIntersecting}).forEach(function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1});a.$||bb(a)}function $a(a,b){b.forEach(function(c){c.target.__AMP_CAROUSEL_IN_VIEWPORT=c.isIntersecting?0:1});a.$||cb(a)}h.flushChanges=function(){ab(this);bb(this);cb(this)};
function ab(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function bb(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function cb(a){for(var b=0;b<a.m.length;b++){var c=a.m[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?a.wa(c,!0):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&a.wa(c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}
function U(a,b){if("IntersectionObserver"in a.O.win)if(Xa(a),b)for(var c=0;c<a.m.length;c++)a.Z.observe(a.m[c]),a.V.observe(a.m[c]),a.Y.observe(a.m[c]);else a.Z.disconnect(),a.V.disconnect(),a.Y.disconnect()}h.updateChildren=function(a){this.m=a;if("IntersectionObserver"in this.O.win){for(a=0;a<this.m.length;a++)this.sa.setOwner(this.m[a],this.O.element);U(this,!1);U(this,this.U)}};h.wasLaidOut=function(){this.U=!0;U(this,this.U)};
h.wasUnlaidOut=function(){this.U=!1;U(this,this.U);for(var a=0;a<this.m.length;a++)T(this,this.m[a],!1),this.wa(this.m[a],!1)};var V;function db(a){a=a.ownerDocument||a;V&&V.ownerDocument===a||(V=a.createElement("div"));return eb}function eb(a){var b=V;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a};w({c:!0,v:!0,a:!0,ad:!0});function fb(a,b,c){c=void 0===c?{}:c;var d=void 0===d?!0:d;var e=c;Va(a).then(function(f){f&&f.triggerEventForTarget(a,b,e,d)})};var gb=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'];function W(a){a=AMP.BaseElement.call(this,a)||this;a.pa=O(a.win,"platform").isIos();a.l=null;a.h=null;a.j=[];a.o=null;a.da="carousel";a.ia=!1;a.H=null;a.I=null;a.la=!1;a.xa=null;a.G=null;a.va=!1;return a}
var X=AMP.BaseElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;if(ea)ea(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var hb=Object.getOwnPropertyDescriptor(X,Y);hb&&Object.defineProperty(W,Y,hb)}else W[Y]=X[Y];W.Oa=X.prototype;
function ib(a){a.registerAction("goToSlide",function(b){var c=b.args,d=b.trust,e=Number(c.index||0),f=!isNaN(e);c=c.index;var g=a.element;if(!ia.user)throw Error("failed to call initLogConstructor");ia.user.assert(f,"Unexpected slide index for goToSlide action: %s. %s",c,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0);a.l.goToSlide(e,{actionSource:2<=d?0:1})},1);a.registerAction("toggleAutoplay",function(b){b=b.args;jb(a,b?b.toggleOn:void 0)},1)}h=W.prototype;
h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};h.prerenderAllowed=function(){return!0};
h.buildCallback=function(){var a=this;this.xa=Ra(this.element);var b=this.element,c=this.win,d=this.getRealChildren();b.appendChild(db(this.element)(gb));this.h=this.element.querySelector(".i-amphtml-carousel-scroll");this.I=this.element.querySelector(".amp-carousel-button-prev");this.H=this.element.querySelector(".amp-carousel-button-next");this.l=new Ea({win:c,element:b,scrollContainer:this.h,initialIndex:Number(this.element.getAttribute("slide")),runMutate:function(f){return a.mutateElement(f)}});
kb(this,d);ib(this);this.element.addEventListener("amp-carousel:indexchange",function(f){a.ra(f)});this.element.addEventListener("amp-carousel:scrollstart",function(){a.G.setQueueChanges(a.pa)});this.element.addEventListener("amp-carousel:scrollpositionchange",function(){a.G.flushChanges();a.G.setQueueChanges(!1);Z(a)});this.I.addEventListener("click",function(){return a.interactionPrev()});this.H.addEventListener("click",function(){return a.interactionNext()});var e=Qa(b);this.G=new Wa({ampElement:this,
intersectionElement:this.h,nearbyMarginInPercent:this.pa?200:100,viewportIntersectionCallback:function(f,g){g?e.scheduleResume(a.element,f):e.schedulePause(a.element,f)}});this.G.setQueueChanges(this.pa);this.G.updateChildren(this.j);this.l.updateSlides(this.j);this.l.goToSlide(Number(this.element.getAttribute("slide")||"0"));if(this.element.hasAttribute("controls"))this.va=!0;else O(this.win,"input").onMouseDetected(function(f){f&&(a.va=!0,Z(a))},!0);return this.mutateElement(function(){})};
h.isRelayoutNeeded=function(){return!0};h.layoutCallback=function(){if(ta(this.element))return t();this.G.wasLaidOut();this.l.updateUi();return t()};h.unlayoutCallback=function(){this.G.wasUnlaidOut();return!0};h.pauseCallback=function(){this.l.pauseLayout()};h.resumeCallback=function(){this.l.resumeLayout()};h.mutatedAttributesCallback=function(a){void 0!==a.slide&&this.l.goToSlide(Number(a.slide))};h.goToSlide=function(a){this.l.goToSlide(a,{smoothScroll:!1})};
h.interactionNext=function(){"carousel"==this.da?lb(this,!0):this.l.next(0)};h.interactionPrev=function(){"carousel"==this.da?lb(this,!1):this.l.prev(0)};function lb(a,b){var c=a.h;a=(a.win.getComputedStyle(c)||Object.create(null)).direction;c.scrollLeft+=c.offsetWidth*(b?1:-1)*("rtl"==a?-1:1)}
function kb(a,b){var c=a.element.getAttribute("dir")||(a.win.getComputedStyle(a.element)||Object.create(null)).direction,d=a.element.hasAttribute("loop"),e=a.element.getAttribute("autoplay"),f=a.element.getAttribute("delay"),g=a.element.getAttribute("type"),k=null!=e,l=e?Number(e):Number.POSITIVE_INFINITY,m=Math.max(Number(f)||5E3,1E3);a.l.updateForwards("rtl"!=c);a.l.updateLoop(d||k);a.l.updateAutoAdvanceLoops(l);a.l.updateAutoAdvanceInterval(m);a.mutateElement(function(){a.I.setAttribute("dir",
c);a.H.setAttribute("dir",c)});jb(a,k);mb(a,g,b);Z(a)}function nb(a,b){var c=String(b+1),d=String(a.j.length);return" "+(a.element.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",c).replace("%s",d)}
function Z(a){var b=a.l.getCurrentIndex(),c=a.la&&!a.va,d=c||a.l.isAtStart(),e=c||a.l.isAtEnd();a.I.classList.toggle("amp-disabled",d);a.I.setAttribute("aria-disabled",d);var f=a.I;var g=0<=b-1?b-1:a.element.hasAttribute("loop")?a.j.length-1:null;g=null==g?0:g;g=(a.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel")+nb(a,g);f.title=g;a.I.tabIndex=d?-1:0;a.H.classList.toggle("amp-disabled",e);a.H.setAttribute("aria-disabled",e);f=a.H;b=b+1<a.j.length?b+1:a.element.hasAttribute("loop")?
0:null;b=null==b?a.j.length-1:b;b=(a.element.getAttribute("data-next-button-aria-label")||"Next item in carousel")+nb(a,b);f.title=b;a.H.tabIndex=e?-1:0}
function mb(a,b,c){var d="slides"==b;a.da=d?"slides":"carousel";a.l.updateAlignment(d?"center":"start");a.l.updateHideScrollbar(d);a.l.updateMixedLength(!d);a.l.updateSnap(d);var e=d?"button":"presentation";a.I.setAttribute("role",e);a.H.setAttribute("role",e);a.j=c.map(function(f){f.classList.add("amp-carousel-slide");if(d){var g=document.createElement("div");g.className="i-amphtml-carousel-slotted";g.appendChild(f);return g}return f});a.j.forEach(function(f){a.h.appendChild(f);d?f.classList.add("i-amphtml-carousel-slide-item"):
f.classList.add("amp-scrollable-carousel-slide")})}function ob(a,b){return null==b?"null":a.j[b].getAttribute("data-slide-id")||String(b)}function jb(a,b){a.ia=void 0!==b?b:!a.ia;a.l.updateAutoAdvance(a.ia)}
h.ra=function(a){var b=a.detail;a=b.index;var c=b.actionSource;this.la=this.la||3==c;Z(this);if("carousel"!=this.da&&(b=this.o,this.o=a,null!=b)){var d=w({index:a});c=2==c||3==c||0==c?3:1;var e=G(this.win,"slidescroll.slideChange",d);this.xa.trigger(this.element,"slideChange",e,c);c=this.element;d=d||{};e=c.ownerDocument.createEvent("Event");e.data=d;e.initEvent("slideChange",!0,!0);c.dispatchEvent(e);d=a-b;c=this.j.length;d=(this.l.isLooping()?0<d&&.5>d/c||0>d&&-.5>d/c:0<d)?"amp-carousel-next":"amp-carousel-prev";
a=w({fromSlide:ob(this,b),toSlide:ob(this,a)});fb(this.element,"amp-carousel-change",a);fb(this.element,d,a)}};(function(a){a.registerElement("amp-carousel",W,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;margin-inline-start:8px;margin-inline-end:0}.amp-scrollable-carousel-slide:first-child{margin-left:0px;margin-inline-start:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,0.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-carousel-button.amp-disabled{animation:none;pointer-events:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;white-space:nowrap;width:1px}.amp-carousel-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E\");background-size:18px 18px}.amp-carousel-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E\");background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-carousel-0.2.js.map
